<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ورود | دیجی استور</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#000,#1a1a1a);
    font-family:'Vazirmatn',sans-serif;
}

.login-card{
    width:320px;
    background:#111;
    padding:25px;
    border-radius:18px;
    box-shadow:0 0 30px rgba(255,196,0,.35);
    text-align:center;
}

.login-card h2{
    color:#ffc400;
    margin-bottom:20px;
}

.login-card input{
    width:100%;
    padding:10px;
    margin-bottom:12px;
    border-radius:12px;
    border:none;
    outline:none;
    background:#222;
    color:white;
}

.login-card input::placeholder{
    color: #ccc;
}

.login-card button{
    width:100%;
    padding:10px;
    border-radius:14px;
    border:none;
    background:#ffc400;
    font-weight:bold;
    cursor:pointer;
    margin-top:5px;
}

.login-card button.register{
    background:none;
    color:#ffc400;
    margin-top:10px;
    border:1px solid #ffc400;
}

.error{
    color:#ff5252;
    font-size:14px;
    margin-top:8px;
}

.success{
    color:#4caf50;
    font-size:14px;
    margin-top:8px;
}
</style>
</head>

<body>

<div class="login-card">
    <h2><i class="fas fa-user"></i> ورود به حساب</h2>

    <input type="text" id="username" placeholder="نام شما">
    <input type="email" id="email" placeholder="ایمیل">
    <input type="password" id="password" placeholder="رمز عبور">

    <button id="loginBtn">ورود</button>
    <button id="registerBtn" class="register">ثبت‌نام</button>
    
    <p id="msg"></p>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const loginBtn = document.getElementById("loginBtn");
    const registerBtn = document.getElementById("registerBtn");
    const msg = document.getElementById("msg");

    // تابع ثبت‌نام
    registerBtn.addEventListener("click", () => {
        if(!email.value || !password.value){
            msg.innerText = "ایمیل و رمز عبور را وارد کنید";
            msg.className = "error";
            return;
        }

        let users = JSON.parse(localStorage.getItem("users")) || [];

        if(users.find(u => u.email === email.value)){
            msg.innerText = "این ایمیل قبلا ثبت شده است";
            msg.className = "error";
            return;
        }

        users.push({email: email.value, password: password.value});
        localStorage.setItem("users", JSON.stringify(users));

        msg.innerText = "ثبت‌نام با موفقیت انجام شد";
        msg.className = "success";
        email.value = "";
        password.value = "";
    });

    // تابع ورود
    loginBtn.addEventListener("click", () => {
        if(!email.value || !password.value){
            msg.innerText = "ایمیل و رمز عبور را وارد کنید";
            msg.className = "error";
            return;
        }

        let users = JSON.parse(localStorage.getItem("users")) || [];
        let user = users.find(u => u.email === email.value && u.password === password.value);

        if(user){
            localStorage.setItem("currentUser", JSON.stringify(user));
            msg.innerText = "ورود موفقیت‌آمیز!";
            msg.className = "success";

            setTimeout(() => {
                window.location.href = "index.html";
            }, 1000);
        } else {
            msg.innerText = "ایمیل یا رمز عبور اشتباه است";
            msg.className = "error";
        }
    });
});

</script>

</body>
</html>
