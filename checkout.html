<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨ - ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <div class="nav-container">
                <a href="index.html" class="logo">
                    <i class="fas fa-laptop"></i>
                    Ø¯ÛŒØ¬ÛŒ Ø§Ø³ØªÙˆØ±
                </a>
                
                <div class="container">
                    <nav class="navbar">
                        <div class="nav-links">
                            <a href="index.html">Ø®Ø§Ù†Ù‡</a>
                            <a href="index.html">Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
                            <a href="admin.html" target="_blank">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</a>
                            <a href="chat.html" id="chat-link" target="_blank">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</a>
                            <a href="support.html" target="_blank">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a>
                            <a href="cart.html" id="cart-link" target="_blank">
                                <i class="fas fa-shopping-cart"></i>
                                Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ (<span class="cart-count">0</span>)
                            </a>
                            <button id="theme-toggle" class="theme-btn">ğŸŒ™/â˜€ï¸</button>
                        </div>
                    </nav>
        <div style="max-width: 800px; margin: 40px auto; padding: 20px;">
            <h1 style="color: #FFD700; text-align: center; margin-bottom: 30px;">ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨</h1>
            
            <div style="background: rgba(10, 10, 10, 0.8); padding: 30px; border-radius: 10px; border: 2px solid #C5A100;">
                <h3 style="color: #FFD700; margin-bottom: 20px;">Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´</h3>
                <div id="order-summary"></div>
                
                <h3 style="color: #FFD700; margin: 30px 0 20px;">Ù…Ø´Ø®ØµØ§Øª Ú¯ÛŒØ±Ù†Ø¯Ù‡</h3>
                <div style="display: grid; gap: 15px;">
                    <input type="text" id="fullname" placeholder="Ù†Ø§Ù… Ú©Ø§Ù…Ù„" style="padding: 12px; border-radius: 6px; border: 1px solid #444; background: #1a1a1a; color: #fff;">
                    <input type="text" id="phone" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†" style="padding: 12px; border-radius: 6px; border: 1px solid #444; background: #1a1a1a; color: #fff;">
                    <input type="text" id="address" placeholder="Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„" style="padding: 12px; border-radius: 6px; border: 1px solid #444; background: #1a1a1a; color: #fff;">
                    <textarea id="notes" placeholder="ÛŒØ§Ø¯Ø¯Ø§Ø´Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" rows="3" style="padding: 12px; border-radius: 6px; border: 1px solid #444; background: #1a1a1a; color: #fff; resize: vertical;"></textarea>
                </div>
                
                <button onclick="completeOrder()" style="background: #FFD700; color: #000; border: none; padding: 15px; border-radius: 6px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 30px; font-size: 18px;">
                    ØªÚ©Ù…ÛŒÙ„ Ø³ÙØ§Ø±Ø´ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª
                </button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        var cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        function loadOrderSummary() {
            var summary = document.getElementById('order-summary');
            var subtotal = 0;
            
            cart.forEach(item => {
                var priceNum = parseInt(item.price.replace(/,/g, ''));
                subtotal += priceNum * item.quantity;
            });
            
            summary.innerHTML = `
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; margin: 10px 0; color: #ddd;">
                        <span>ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ù„Ø§Ù‡Ø§:</span>
                        <span>${cart.reduce((sum, item) => sum + item.quantity, 0)} Ø¹Ø¯Ø¯</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin: 10px 0; color: #ddd;">
<span>Ù‚ÛŒÙ…Øª Ú©Ù„:</span>
                        <span>${subtotal.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin: 20px 0; font-size: 20px; font-weight: bold; color: #FFD700;">
                        <span>Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:</span>
                        <span>${subtotal.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                    </div>
                </div>
            `;
        }
        
        function completeOrder() {
            var fullname = document.getElementById('fullname').value;
            var phone = document.getElementById('phone').value;
            var address = document.getElementById('address').value;
            
            if (!fullname || !phone || !address) {
                alert('Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            var order = {
                id: Date.now(),
                date: new Date().toLocaleString('fa-IR'),
                items: cart,
                customer: { fullname, phone, address },
                notes: document.getElementById('notes').value,
                status: 'pending',
                total: cart.reduce((sum, item) => sum + (parseInt(item.price.replace(/,/g, '')) * item.quantity), 0)
            };
            
            var orders = JSON.parse(localStorage.getItem('orders')) || [];
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            localStorage.removeItem('cart');
            cart = [];
            updateCartCount();
            
            alert('Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯! Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: ' + order.id);
            window.location.href = 'index.html';
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            if (cart.length === 0) {
                alert('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª');
                window.location.href = 'cart.html';
                return;
            }
            loadOrderSummary();
            updateCartCount();
        });
    </script>
</body>

</html>